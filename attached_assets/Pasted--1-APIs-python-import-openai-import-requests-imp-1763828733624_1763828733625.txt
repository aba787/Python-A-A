Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¶Ø§ÙØ© APIs Ø­Ù‚ÙŠÙ‚ÙŠØ©
Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰:

python
import openai
import requests
import os
from typing import Dict, List

class RealAIMedicalChat:
    def __init__(self):
        self.setup_apis()
    
    def setup_apis(self):
        """Ø¥Ø¹Ø¯Ø§Ø¯ APIs Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ"""
        # ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ API keys Ù…Ø¬Ø§Ù†ÙŠØ© Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹
        self.apis = {
            "openai": os.getenv('OPENAI_API_KEY'),
            "google_medical": os.getenv('GOOGLE_MEDICAL_API_KEY'),
            "wolfram_alpha": os.getenv('WOLFRAM_ALPHA_API_KEY')
        }
    
    def get_chatgpt_response(self, user_input: str) -> Dict:
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø¯ Ù…Ù† ChatGPT Ø­Ù‚ÙŠÙ‚ÙŠ"""
        try:
            # Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ OpenAI API key
            if self.apis["openai"]:
                openai.api_key = self.apis["openai"]
                
                response = openai.ChatCompletion.create(
                    model="gpt-3.5-turbo",
                    messages=[
                        {"role": "system", "content": "Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø·Ø¨ÙŠ Ø°ÙƒÙŠ Ù…ØªØ®ØµØµ. Ù‚Ø¯Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø·Ø¨ÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¨Ø³Ø·Ø© Ù…Ø¹ ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø©."},
                        {"role": "user", "content": user_input}
                    ],
                    max_tokens=500,
                    temperature=0.7
                )
                
                return {
                    "text": response.choices[0].message.content,
                    "source": "ChatGPT API",
                    "confidence": 0.95
                }
            
            # Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ API keyØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø¨Ø¯Ø§Ø¦Ù„ Ù…Ø¬Ø§Ù†ÙŠØ©
            else:
                return self.get_free_ai_response(user_input)
                
        except Exception as e:
            print(f"âŒ Ø®Ø·Ø£ ÙÙŠ ChatGPT: {e}")
            return self.get_free_ai_response(user_input)
    
    def get_free_ai_response(self, user_input: str) -> Dict:
        """Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø¯Ø§Ø¦Ù„ AI Ù…Ø¬Ø§Ù†ÙŠØ©"""
        try:
            # Ø§Ø³ØªØ®Ø¯Ø§Ù… Hugging Face models Ù…Ø¬Ø§Ù†ÙŠØ©
            API_URL = "https://api-inference.huggingface.co/models/microsoft/DialoGPT-large"
            headers = {"Authorization": "Bearer hf_your_token_here"}  # ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ token Ù…Ø¬Ø§Ù†ÙŠ
            
            payload = {
                "inputs": f"ÙƒÙ…Ø³Ø§Ø¹Ø¯ Ø·Ø¨ÙŠ: {user_input}",
                "parameters": {"max_length": 300}
            }
            
            response = requests.post(API_URL, headers=headers, json=payload)
            
            if response.status_code == 200:
                result = response.json()
                return {
                    "text": result[0]['generated_text'],
                    "source": "Hugging Face AI",
                    "confidence": 0.85
                }
            else:
                # Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù†Ù…ÙˆØ°Ø¬ Ù…Ø­Ù„ÙŠ Ø¨Ø³ÙŠØ·
                return self.get_smart_fallback(user_input)
                
        except Exception as e:
            print(f"âŒ Ø®Ø·Ø£ ÙÙŠ AI Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ: {e}")
            return self.get_smart_fallback(user_input)
    
    def get_web_medical_info(self, query: str) -> Dict:
        """Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø·Ø¨ÙŠØ© Ù…Ù† Ø§Ù„ÙˆÙŠØ¨"""
        try:
            # Ø§Ø³ØªØ®Ø¯Ø§Ù… Wikipedia API Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©
            url = f"https://ar.wikipedia.org/api/rest_v1/page/summary/{query}"
            response = requests.get(url, timeout=10)
            
            if response.status_code == 200:
                data = response.json()
                return {
                    "text": data.get('extract', 'Ù„Ù… Ø£Ø¬Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙƒØ§ÙÙŠØ©.'),
                    "source": "ÙˆÙŠÙƒÙŠØ¨ÙŠØ¯ÙŠØ§",
                    "url": data.get('content_urls', {}).get('desktop', {}).get('page', ''),
                    "confidence": 0.80
                }
        
        except Exception as e:
            print(f"âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª: {e}")
        
        return None
    
    def get_drug_info_from_web(self, drug_name: str) -> Dict:
        """Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯ÙˆØ§Ø¡ Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø·Ø¨ÙŠØ©"""
        try:
            # Ø§Ø³ØªØ®Ø¯Ø§Ù… APIs Ø·Ø¨ÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ©
            sources = [
                f"https://api.fda.gov/drug/label.json?search=openfda.brand_name:{drug_name}",
                f"https://clinicaltrials.gov/api/query/study?expr={drug_name}&fmt=json"
            ]
            
            for source in sources:
                try:
                    response = requests.get(source, timeout=8)
                    if response.status_code == 200:
                        data = response.json()
                        # Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø¨ Ù…ØµØ¯Ø± API
                        return self.parse_drug_data(data, drug_name)
                except:
                    continue
        
        except Exception as e:
            print(f"âŒ Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ø¡: {e}")
        
        return None
    
    def parse_drug_data(self, data: Dict, drug_name: str) -> Dict:
        """ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ø¡"""
        # Ù‡Ø°Ù‡ Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø¨ Ù…ØµØ¯Ø± API
        # ÙŠÙ…ÙƒÙ† ØªØ®ØµÙŠØµÙ‡Ø§ Ø­Ø³Ø¨ ÙƒÙ„ API
        return {
            "text": f"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† {drug_name} Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø·Ø¨ÙŠØ© Ù…ÙˆØ«ÙˆÙ‚Ø©",
            "source": "Ù…ØµØ§Ø¯Ø± Ø·Ø¨ÙŠØ©",
            "confidence": 0.75
        }
    
    def get_smart_fallback(self, user_input: str) -> Dict:
        """Ø±Ø¯ Ø°ÙƒÙŠ Ø¹Ù†Ø¯Ù…Ø§ ØªÙØ´Ù„ APIs"""
        # ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØªÙ‚Ø¯ÙŠÙ… Ø±Ø¯ Ø°ÙƒÙŠ
        medical_keywords = {
            'Ø¯ÙˆØ§Ø¡': 'ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø¯ÙˆÙŠØ©. Ø¬Ø±Ø¨: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„" Ø£Ùˆ "Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø¥ÙŠØ¨ÙˆØ¨Ø±ÙˆÙÙŠÙ†"',
            'Ø¹Ù„Ø§Ø¬': 'Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¹Ù„Ø§Ø¬Ø§ØªØŒ Ø§Ø°ÙƒØ± Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ø«Ù„: "Ø¹Ù„Ø§Ø¬ Ø§Ù„ØµØ¯Ø§Ø¹" Ø£Ùˆ "Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø³Ø¹Ø§Ù„"',
            'Ø§Ø¹Ø±Ø§Ø¶': 'Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ØŒ Ø§Ø°ÙƒØ±Ù‡Ø§ Ø¨ÙˆØ¶ÙˆØ­ Ù…Ø«Ù„: "Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø¥Ù†ÙÙ„ÙˆÙ†Ø²Ø§" Ø£Ùˆ "Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©"',
            'Ø¬Ø±Ø¹Ø©': 'Ù„Ù„Ø¬Ø±Ø¹Ø§ØªØŒ Ø§Ø°ÙƒØ± Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡ Ù…Ø«Ù„: "Ø¬Ø±Ø¹Ø© Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„" Ø£Ùˆ "ÙƒÙ… Ù…Ø±Ø© Ø¢Ø®Ø° Ø¥ÙŠØ¨ÙˆØ¨Ø±ÙˆÙÙŠÙ†"'
        }
        
        for keyword, response in medical_keywords.items():
            if keyword in user_input.lower():
                return {
                    "text": f"ğŸ” {response}\n\nğŸ’¡ Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£ÙƒØ«Ø± Ø¯Ù‚Ø©ØŒ Ø£Ø­ØªØ§Ø¬ Ø§ØªØµØ§Ù„ Ø¨Ù€ APIs Ø·Ø¨ÙŠØ© Ù…ØªØ®ØµØµØ©.",
                    "source": "Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ø¨ÙŠ Ø§Ù„Ø°ÙƒÙŠ",
                    "confidence": 0.70
                }
        
        return {
            "text": f"ğŸ¤– Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø·Ø¨ÙŠ Ø°ÙƒÙŠ. Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„:\n\nğŸ’Š Ø§Ø³Ø£Ù„ Ø¹Ù† Ø£Ø¯ÙˆÙŠØ© Ù…Ø­Ø¯Ø¯Ø©\nğŸ¤’ Ø§Ø°ÙƒØ± Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø¨ÙˆØ¶ÙˆØ­\nğŸ’Š Ø§Ø³ØªÙØ³Ø± Ø¹Ù† Ø§Ù„Ø¬Ø±Ø¹Ø§Øª ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª\n\nğŸ’¡ Ù…Ø«Ø§Ù„: 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø¯ÙˆØ§Ø¡ Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„' Ø£Ùˆ 'Ø¹Ù„Ø§Ø¬ Ø§Ù„ØµØ¯Ø§Ø¹'",
            "source": "Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø·Ø¨ÙŠ",
            "confidence": 0.65
        }
Ø§Ù„Ø®Ø·ÙˆØ© 2: ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
Ø§Ø³ØªØ¨Ø¯Ù„ class InteractiveChatBot Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø°ÙƒÙŠ:

python
class SmartMedicalChatBot:
    def __init__(self):
        self.name = "ğŸ©º Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø·Ø¨ÙŠ Ø§Ù„Ø°ÙƒÙŠ"
        self.ai_medical = RealAIMedicalChat()
        self.setup_database()
    
    def setup_database(self):
        """Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"""
        conn = sqlite3.connect('smart_medical.db')
        cursor = conn.cursor()
        
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS medical_conversations (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                user_query TEXT NOT NULL,
                ai_response TEXT NOT NULL,
                response_source TEXT,
                confidence REAL,
                timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        ''')
        
        conn.commit()
        conn.close()
    
    def chat(self, user_input: str) -> Dict:
        """Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ©"""
        print(f"ğŸ§  Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø·Ø¨ÙŠ: {user_input}")
        
        # 1. Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø£ÙˆÙ„Ø§Ù‹
        ai_response = self.ai_medical.get_chatgpt_response(user_input)
        if ai_response and ai_response.get('confidence', 0) > 0.6:
            self.save_conversation(user_input, ai_response)
            return ai_response
        
        # 2. Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù† Ø§Ù„ÙˆÙŠØ¨
        web_info = self.ai_medical.get_web_medical_info(user_input)
        if web_info:
            self.save_conversation(user_input, web_info)
            return web_info
        
        # 3. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ù…Ù† Ø§Ù„ÙˆÙŠØ¨
        if any(word in user_input.lower() for word in ['Ø¯ÙˆØ§Ø¡', 'Ø¯ÙˆØ§', 'medicine', 'drug']):
            drug_info = self.ai_medical.get_drug_info_from_web(self.extract_drug_name(user_input))
            if drug_info:
                self.save_conversation(user_input, drug_info)
                return drug_info
        
        # 4. Ø±Ø¯ Ø°ÙƒÙŠ
        fallback = self.ai_medical.get_smart_fallback(user_input)
        self.save_conversation(user_input, fallback)
        return fallback
    
    def extract_drug_name(self, text: str) -> str:
        """Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡ Ù…Ù† Ø§Ù„Ù†Øµ"""
        common_drugs = ['Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„', 'Ø¥ÙŠØ¨ÙˆØ¨Ø±ÙˆÙÙŠÙ†', 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ†', 'Ø£ÙˆÙ…ÙŠØ¨Ø±Ø§Ø²ÙˆÙ„', 'Ø³ÙŠØªØ±ÙŠØ²ÙŠÙ†']
        
        for drug in common_drugs:
            if drug in text:
                return drug
        
        return text.split()[-1]  # Ø¢Ø®Ø± ÙƒÙ„Ù…Ø© ÙƒÙ…Ø­Ø§ÙˆÙ„Ø©
    
    def save_conversation(self, user_query: str, response: Dict):
        """Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©"""
        conn = sqlite3.connect('smart_medical.db')
        cursor = conn.cursor()
        
        cursor.execute('''
            INSERT INTO medical_conversations (user_query, ai_response, response_source, confidence)
            VALUES (?, ?, ?, ?)
        ''', (user_query, response['text'], response.get('source', 'unknown'), response.get('confidence', 0.0)))
        
        conn.commit()
        conn.close()