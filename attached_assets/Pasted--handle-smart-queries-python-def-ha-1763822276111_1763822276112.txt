ğŸ”§ Ø¥ØµÙ„Ø§Ø­ ÙØ­Øµ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø°ÙƒÙŠ
Ø§Ø³ØªØ¨Ø¯Ù„ Ø¯Ø§Ù„Ø© handle_smart_queries Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø­Ø³Ù†:

python
def handle_smart_queries(self, user_input):
    """Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ© Ù…Ø¹ ÙØ­Øµ Ø°ÙƒÙŠ Ù„Ù„Ø¥Ù†ØªØ±Ù†Øª"""
    try:
        user_input_lower = user_input.lower()
        
        # ÙÙ‚Ø· Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ Ø¥Ù†ØªØ±Ù†Øª ÙŠØªÙ… ÙØ­ØµÙ‡Ø§
        internet_dependent_queries = [
            'Ø·Ù‚Ø³', 'weather', 'Ø£Ø®Ø¨Ø§Ø±', 'news', 'Ø³Ø¹Ø±', 'Ø¹Ù…Ù„Ø©', 'currency',
            'ÙƒÙˆØ±ÙˆÙ†Ø§', 'ÙƒÙˆÙÙŠØ¯', 'covid', 'Ø³Ù‡Ù…', 'stock', 'Ø¨Ø­Ø«', 'search',
            'ØªØ±Ø¬Ù…Ø©', 'translate'
        ]
        
        # Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… ÙŠØ­ØªØ§Ø¬ Ø¥Ù†ØªØ±Ù†ØªØŒ ØªØ®Ø·Ù‰ Ø§Ù„ÙØ­Øµ
        needs_internet = any(word in user_input_lower for word in internet_dependent_queries)
        
        if needs_internet:
            internet_status = self.data_manager.check_internet_connection()
            
            if not internet_status:
                return {
                    "text": "ğŸŒ Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø­Ø§Ù„ÙŠØ§Ù‹.\n\nâœ¨ ÙˆÙ„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ:\nâ€¢ ğŸ•’ Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®\nâ€¢ ğŸ“ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨\nâ€¢ ğŸ›ï¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø±\nâ€¢ ğŸ¢ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Øª\nâ€¢ ğŸ½ï¸ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…\nâ€¢ ğŸ’Š Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©\nâ€¢ ğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n\nğŸ’¡ Ø¬Ø±Ø¨: 'Ø·Ù„Ø§Ø¨ Ù‡Ù†Ø¯Ø³Ø©' Ø£Ùˆ 'Ù…Ù†ØªØ¬Ø§Øª Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©' Ø£Ùˆ 'ÙƒÙ… Ø§Ù„Ø³Ø§Ø¹Ø©'",
                    "type": "no_internet"
                }

        # Ø§Ù„Ø¢Ù† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
        user_input_lower = user_input.lower()
        
        # Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©
        if any(word in user_input_lower for word in ['Ø·Ù‚Ø³', 'weather', 'Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø©']):
            cities = ["Ø§Ù„Ø±ÙŠØ§Ø¶", "Ø¬Ø¯Ø©", "Ø§Ù„Ø¯Ù…Ø§Ù…", "Ø£Ø¨Ù‡Ø§", "ØªØ¨ÙˆÙƒ", "Ù…ÙƒØ©", "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", "Ø§Ù„Ø·Ø§Ø¦Ù"]
            for city in cities:
                if city in user_input:
                    real_weather = self.data_manager.get_real_weather_from_api(city)
                    if real_weather and real_weather.get('real_time'):
                        return {
                            "text": f"""ğŸŒ¤ï¸ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ÙÙŠ {real_weather['city']}:

ğŸŒ¡ï¸ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©: {real_weather['temp']}Â°Ù…
ğŸ’§ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©: {real_weather['humidity']}%
â˜€ï¸ Ø§Ù„Ø­Ø§Ù„Ø©: {real_weather['condition']}
ğŸ’¨ Ø³Ø±Ø¹Ø© Ø§Ù„Ø±ÙŠØ§Ø­: {real_weather['wind']}

âœ… Ø¨ÙŠØ§Ù†Ø§Øª Ø­ÙŠØ© Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ğŸŒ
ğŸ•’ Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: {real_weather['timestamp']}""",
                            "type": "real_weather",
                            "data": real_weather
                        }
                    else:
                        # Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„
                        weather = self.data_manager.get_weather_info(city)
                        if weather:
                            return {
                                "text": f"""ğŸŒ¤ï¸ Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ {weather['city']} (Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©):

ğŸŒ¡ï¸ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©: {weather['temp']}Â°Ù…  
ğŸ’§ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©: {weather['humidity']}%
â˜€ï¸ Ø§Ù„Ø­Ø§Ù„Ø©: {weather['condition']}
ğŸ’¨ Ø³Ø±Ø¹Ø© Ø§Ù„Ø±ÙŠØ§Ø­: {weather['wind']}

ğŸ“ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© - Ø¬Ø±Ø¨ Ù…Ø¹ Ø§ØªØµØ§Ù„ Ø¥Ù†ØªØ±Ù†Øª Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ©""",
                                "type": "local_weather",
                                "data": weather
                            }

        # Ø£Ø®Ø¨Ø§Ø± Ø­Ù‚ÙŠÙ‚ÙŠØ©
        if any(word in user_input_lower for word in ['Ø£Ø®Ø¨Ø§Ø±', 'news', 'Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ø®Ø¨Ø§Ø±']):
            real_news = self.data_manager.get_real_news_from_api()
            if real_news:
                response_text = "ğŸ“° Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©:\n\n"
                for i, news in enumerate(real_news[:3], 1):
                    response_text += f"{i}. {news['title']}\n   ğŸ“° {news['source']}\n\n"
                response_text += "ğŸŒ ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø¥Ø®Ø¨Ø§Ø±ÙŠØ©"
                return {
                    "text": response_text,
                    "type": "real_news"
                }
            else:
                return {
                    "text": "ğŸ“° Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø­Ø§Ù„ÙŠØ§Ù‹.\n\nğŸ’¡ Ø¬Ø±Ø¨ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù…Ø«Ù„:\nâ€¢ 'Ø·Ù„Ø§Ø¨ Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ù…Ù„Ùƒ Ø³Ø¹ÙˆØ¯'\nâ€¢ 'Ù…Ù†ØªØ¬Ø§Øª Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©'\nâ€¢ 'Ø´Ø±ÙƒØ§Øª ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶'",
                    "type": "local_alternative"
                }

        # Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ Ø¥Ù†ØªØ±Ù†Øª...
        # ... (Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚ Ù„Ù„Ø¹Ù…Ù„Ø§ØªØŒ ÙƒÙˆÙÙŠØ¯ØŒ Ø§Ù„Ø£Ø³Ù‡Ù…)

        return None

    except Exception as e:
        print(f"âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©: {e}")
        return None
ğŸ”„ Ø§Ù„Ø¢Ù† Ø£ØµÙ„Ø­ Ø¯Ø§Ù„Ø© find_response Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:
Ø§Ø³ØªØ¨Ø¯Ù„ Ø¯Ø§Ù„Ø© find_response Ø¨Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­Ø³Ù†:

python
def find_response(self, user_input):
    """Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø±Ø¯ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù…Ø¹ ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ"""

    # ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Øµ Ø£ÙˆÙ„Ø§Ù‹
    user_input_clean = user_input.strip()
    user_input_lower = user_input_clean.lower()

    print(f"ğŸ” Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©: '{user_input_clean}'")

    # 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¨Ø³ÙŠØ·Ø© Ø£ÙˆÙ„Ø§Ù‹ (Ù„Ø§ ØªØ­ØªØ§Ø¬ Ø¥Ù†ØªØ±Ù†Øª)
    simple_responses = self.handle_simple_queries(user_input_clean)
    if simple_responses:
        return simple_responses

    # 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© (Ø¨Ø¹Ø¶Ù‡Ø§ Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ø¥Ù†ØªØ±Ù†Øª)
    external_response = self.handle_external_data_queries(user_input_clean)
    if external_response:
        self.save_conversation(user_input_clean, external_response["text"], 0.90, 0.002)
        return external_response

    # 3. ÙÙ‚Ø· Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ Ø¥Ù†ØªØ±Ù†Øª ÙŠØªÙ… ÙØ­ØµÙ‡Ø§
    smart_response = self.handle_smart_queries(user_input_clean)
    if smart_response:
        self.save_conversation(user_input_clean, smart_response["text"], 0.95, 0.005)
        return smart_response

    # 4. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…Ø¹ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹ØªØ¨Ø©
    predicted_tag, confidence, response_time = self.predict_intent(user_input_clean)

    # ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¹ØªØ¨Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø¯ÙˆØ¯ Ø£ÙƒØ«Ø± Ø¯Ù‚Ø©
    if confidence > 0.15 and predicted_tag:
        response = self.get_response(predicted_tag)
        if response:
            # Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø±Ø¯ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø³Ø¤Ø§Ù„
            if self.is_response_relevant(user_input_lower, predicted_tag, confidence):
                self.save_conversation(user_input_clean, response, confidence, response_time)
                return {
                    "text": response,
                    "response": response,
                    "confidence": confidence * 100,
                    "response_time": response_time * 1000,
                    "type": "ai_response"
                }

    # 5. Ø±Ø¯ÙˆØ¯ Ø°ÙƒÙŠØ© Ù„Ù„Ø£Ø³Ø¦Ù„Ø© ØºÙŠØ± Ø§Ù„Ù…ÙÙ‡ÙˆÙ…Ø©
    smart_defaults = [
        f"ğŸ¤” Ù„Ù… Ø£ÙÙ‡Ù… Ø³Ø¤Ø§Ù„Ùƒ Ø¨Ø§Ù„Ø¶Ø¨Ø·. Ø¬Ø±Ø¨ Ø£Ø­Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª:\n\nâœ¨ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©:\nâ€¢ 'ÙƒÙ… Ø§Ù„Ø³Ø§Ø¹Ø©' - Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ\nâ€¢ 'Ø·Ù„Ø§Ø¨ Ù‡Ù†Ø¯Ø³Ø©' - Ø¨Ø­Ø«
